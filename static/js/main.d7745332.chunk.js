(this.webpackJsonpprojectx=this.webpackJsonpprojectx||[]).push([[0],{15:function(e,a,t){e.exports={logo:"AppHeader_logo__Bg4LO",header:"AppHeader_header__25ip-",icons:"AppHeader_icons__157x-",icon:"AppHeader_icon__3JCsU",iconLink:"AppHeader_iconLink__1pNUf",input:"AppHeader_input__AdHmG",logout:"AppHeader_logout__1bVxs",headerWrapper:"AppHeader_headerWrapper__1R00E"}},18:function(e,a,t){e.exports={parent:"SignUp_parent__1DbUf",login:"SignUp_login__cemaQ",signup:"SignUp_signup__2T623",username:"SignUp_username__eJ5CW",text:"SignUp_text__3uL4U",password:"SignUp_password__1J_8K",loginBtn:"SignUp_loginBtn__3NntG",or:"SignUp_or__28tXU",facebookBtn:"SignUp_facebookBtn__21HLc",facebook:"SignUp_facebook__1NlXs",title:"SignUp_title__umTGG",signupLink:"SignUp_signupLink__3gcUB",logo:"SignUp_logo__2pk99"}},22:function(e,a,t){e.exports={parent:"Login_parent__sdI6F",login:"Login_login__1hPQX",signup:"Login_signup__1byNZ",username:"Login_username__3JWhA",password:"Login_password__17mL_",loginBtn:"Login_loginBtn__3I6Tm",or:"Login_or__2i9hh",facebook:"Login_facebook__8tqGz",forgot:"Login_forgot__2RxIr",title:"Login_title__2vlNg",signupLink:"Login_signupLink__1BtLu",logo:"Login_logo__3DsUY"}},23:function(e,a,t){e.exports={parent:"ResetPassword_parent__3Nn4V",login:"ResetPassword_login__32X4k",text:"ResetPassword_text__2zZyU",s:"ResetPassword_s__3jAA-",signup:"ResetPassword_signup__2ZB-6",username:"ResetPassword_username__B5XY2",password:"ResetPassword_password__3tH52",loginBtn:"ResetPassword_loginBtn__E3dQA",or:"ResetPassword_or__n6wQa",title:"ResetPassword_title__1vUJN",signupLink:"ResetPassword_signupLink__1Aigk",logo:"ResetPassword_logo__1OD0d",facebook:"ResetPassword_facebook__3LCx3"}},24:function(e,a,t){e.exports={messagesWrapper:"Messages_messagesWrapper__1gQlT",dialogs:"Messages_dialogs__1pxnQ",messages:"Messages_messages__eq_N-",userName:"Messages_userName__3Mpz_",ava:"Messages_ava__2zYdu",dialogsPerson:"Messages_dialogsPerson__414bY",messagesHeader:"Messages_messagesHeader__2_Ptz",messagesAva:"Messages_messagesAva__3ap7y",messagesForm:"Messages_messagesForm__1y0ht",input:"Messages_input__1spoZ",btn:"Messages_btn__3Dcan",message:"Messages_message__6NgvM"}},32:function(e,a,t){e.exports={upload:"ImageUplolad_upload__yYoZm",input:"ImageUplolad_input__2CQss",file:"ImageUplolad_file__12r8m",progress:"ImageUplolad_progress__3LXif",uploadPost:"ImageUplolad_uploadPost__2GxzG"}},46:function(e,a,t){e.exports={posts:"Content_posts__Z6DPj",inst:"Content_inst__3_RPJ"}},63:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),c=t(29),o=t.n(c),r=t(53),i=t(13),l=(t(63),t(15)),d=t.n(l),j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII=",u=t(2);function m(e){var a=e.currentUser,t=e.handlelogout;return Object(u.jsx)("div",{className:d.a.headerWrapper,children:Object(u.jsxs)("div",{className:"".concat(d.a.header," container"),children:[Object(u.jsx)("div",{className:d.a.wrapper,children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{className:d.a.logo,src:j,alt:"logo"})})}),Object(u.jsx)("div",{className:d.a.wrapper,children:Object(u.jsx)("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a",className:d.a.input})}),Object(u.jsx)("div",{className:d.a.wrapper,children:Object(u.jsxs)("div",{className:d.a.icons,children:[Object(u.jsx)(i.b,{className:d.a.iconLink,to:"/",children:Object(u.jsx)("div",{className:d.a.icon,children:Object(u.jsx)("i",{className:"fa fa-home"})})}),Object(u.jsx)(i.b,{className:d.a.iconLink,to:"/messages",children:Object(u.jsx)("div",{className:d.a.icon,children:Object(u.jsx)("i",{className:"fa fa-comment-o"})})}),Object(u.jsx)("div",{className:d.a.icon,children:Object(u.jsx)("i",{className:"fa fa-compass"})}),Object(u.jsx)("div",{className:d.a.icon,children:Object(u.jsx)("i",{className:"fa fa-heart-o"})}),Object(u.jsxs)("div",{className:d.a.icon,children:[a?a.email:""," "]}),a?Object(u.jsx)("button",{onClick:t,className:d.a.logout,children:"Log out"}):""]})})]})})}var b=t(46),p=t.n(b),_=t(49),O=t(7),h=t(28),x=(t(68),t(75),t(76),h.a.initializeApp({apiKey:"AIzaSyD3xGgSdw2CYll4ZAdCsB9RUaV99mhu7_c",authDomain:"instagramclone-5b4a8.firebaseapp.com",databaseURL:"https://instagramclone-5b4a8-default-rtdb.firebaseio.com/",projectId:"instagramclone-5b4a8",storageBucket:"instagramclone-5b4a8.appspot.com",messagingSenderId:"1001185084101",appId:"1:1001185084101:web:5d28be08e2120ee9d626ac",measurementId:"G-61K9EFEQ79"})),g=h.a.auth(),f=x.firestore(),I=h.a.storage(),k=n.a.createContext();function v(){return Object(s.useContext)(k)}function N(e){var a=e.children,t=Object(s.useState)(),n=Object(O.a)(t,2),c=n[0],o=n[1],r=Object(s.useState)(!0),i=Object(O.a)(r,2),l=i[0],d=i[1];Object(s.useEffect)((function(){return g.onAuthStateChanged((function(e){o(e),d(!1)}))}),[]);var j={currentUser:c,signUp:function(e,a){return g.createUserWithEmailAndPassword(e,a)},login:function(e,a){return g.signInWithEmailAndPassword(e,a)},logout:function(){return g.signOut()},resetPassword:function(e){return g.sendPasswordResetEmail(e)},updatePassword:function(e){return c.updatePassword(e)},updateEmail:function(e){return c.updateEmail(e)}};return Object(u.jsx)(k.Provider,{value:j,children:!l&&a})}var C=t(9),A=t.n(C),E=t(79);var y=function(e){var a=e.post,t=e.postId,s=e.handleShow,n=e.show,c=e.handleClose,o=e.handleDelete,r=e.disabled,l=e.onLike,d=e.comments,j=e.comment,m=e.handleSubmit,b=e.postComment,p=e.setComment;return Object(u.jsx)("div",{className:A.a.post,children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:A.a.header,children:[Object(u.jsxs)("div",{className:A.a.name,children:[Object(u.jsx)("img",{src:a.avatar,alt:"avatar",className:A.a.avatar}),Object(u.jsx)("div",{className:A.a.nickname,children:a.username})]}),Object(u.jsx)("div",{className:A.a.circles,onClick:s,children:"..."}),Object(u.jsxs)(E.a,{show:n,onHide:c,className:A.a.modal,children:[Object(u.jsx)("button",{disabled:r,className:"".concat(A.a.modalBtn," ").concat(A.a.red),children:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(u.jsx)("button",{onClick:o,className:"".concat(A.a.modalBtn," ").concat(A.a.red),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(u.jsx)("button",{disabled:r,className:A.a.modalBtn,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"}),Object(u.jsx)("button",{disabled:r,className:A.a.modalBtn,children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(u.jsx)("button",{disabled:r,className:A.a.modalBtn,children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"}),Object(u.jsx)("button",{disabled:r,className:A.a.modalBtn,children:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"}),Object(u.jsx)("button",{onClick:c,className:A.a.modalBtn,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}),Object(u.jsx)("img",{onDoubleClick:l,className:A.a.postImg,src:a.imageUrl,alt:""}),Object(u.jsxs)("div",{className:A.a.action,children:[Object(u.jsx)("div",{onClick:l,children:Object(u.jsx)("i",{className:"fa fa-heart-o ".concat(A.a.like)})}),Object(u.jsx)(i.b,{to:"/p/".concat(t),children:Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"fa fa-comment-o ".concat(A.a.like)})})}),Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"fa fa-paper-plane-o ".concat(A.a.like)})})]}),Object(u.jsxs)("div",{className:A.a.count,children:[a.likes,' \u043e\u0442\u043c\u0435\u0442\u043e\u043a "\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"']}),Object(u.jsxs)("div",{className:A.a.postText,children:[Object(u.jsx)("strong",{children:a.username})," ",a.caption]}),Object(u.jsxs)("div",{className:A.a.comments,children:[j?Object(u.jsx)("div",{className:A.a.allcomments,children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439(5)"}):"",d.map((function(e){return Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:e.username})," ",e.comment]})}))]}),Object(u.jsxs)("form",{className:A.a.commentsForm,onSubmit:m,children:[Object(u.jsx)("input",{className:A.a.input,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",value:j,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("button",{onClick:b,disabled:!j,className:A.a.btn,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})]})})};var S=function(e){var a=e.post,t=e.postId,n=Object(s.useState)([]),c=Object(O.a)(n,2),o=c[0],r=c[1],i=Object(s.useState)(""),l=Object(O.a)(i,2),d=l[0],j=l[1],m=v().currentUser,b=Object(s.useState)(!0),p=Object(O.a)(b,2),_=p[0],x=(p[1],Object(s.useState)(!1)),g=Object(O.a)(x,2),I=g[0],k=g[1];return Object(s.useEffect)((function(){var e;return t&&(e=f.collection("posts").doc(t).collection("comments").onSnapshot((function(e){r(e.docs.map((function(e){return e.data()})))}))),e}),[t]),console.log(o),Object(u.jsx)(y,{handleShow:function(){return k(!0)},post:a,postId:t,show:I,handleClose:function(){return k(!1)},handleDelete:function(){f.collection("posts").doc(t).delete()},disabled:_,onLike:function(){f.collection("posts").doc(t).update("likes",+a.likes+1)},comments:o,comment:d,handleSubmit:function(e){e.preventDefault()},postComment:function(e){e.preventDefault(),f.collection("posts").doc(t).collection("comments").add({comment:d,username:m.email,timestamp:h.a.firestore.FieldValue.serverTimestamp()}),j("")},setComment:j})},w=t(32),P=t.n(w),H=t(78);function U(e){var a=e.handleShow,t=e.show,s=e.handleClose,n=e.progress,c=e.handleChange,o=e.caption,r=e.setCaption,i=e.handleUpload;return Object(u.jsxs)("div",{className:P.a.uploadPost,children:[Object(u.jsx)(H.a,{variant:"secondary",className:"w-100 ",onClick:a,children:"Add post"}),Object(u.jsxs)(E.a,{show:t,onHide:s,children:[Object(u.jsx)(E.a.Header,{closeButton:!0,children:Object(u.jsx)(E.a.Title,{children:Object(u.jsx)("img",{src:j,alt:"instagramClone"})})}),Object(u.jsx)(E.a.Body,{children:Object(u.jsxs)("div",{className:P.a.upload,children:[Object(u.jsx)("progress",{className:P.a.progress,value:n,max:"100"}),Object(u.jsx)("textarea",{className:P.a.input,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",value:o,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:P.a.file,type:"file",onChange:c})]})}),Object(u.jsxs)(E.a.Footer,{children:[Object(u.jsx)(H.a,{variant:"secondary",onClick:s,children:"Close"}),Object(u.jsx)(H.a,{variant:"primary",onClick:i,children:"Upload"})]})]})]})}function B(){var e=Object(s.useState)(""),a=Object(O.a)(e,2),t=a[0],n=a[1],c=Object(s.useState)(0),o=Object(O.a)(c,2),r=o[0],i=o[1],l=Object(s.useState)(null),d=Object(O.a)(l,2),j=d[0],m=d[1],b=v().currentUser,p=Object(s.useState)(!1),_=Object(O.a)(p,2),x=_[0],g=_[1];return Object(u.jsx)(U,{handleShow:function(){return g(!0)},show:x,handleClose:function(){return g(!1)},progress:r,handleChange:function(e){e.target.files[0]&&m(e.target.files[0])},caption:t,setCaption:n,handleUpload:function(e){e.preventDefault(),I.ref("images/".concat(j.name)).put(j).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);i(a)}),(function(e){console.log(e),alert(e.message)}),(function(){I.ref("images").child(j.name).getDownloadURL().then((function(e){f.collection("posts").add({timestamp:h.a.firestore.FieldValue.serverTimestamp(),caption:t,imageUrl:e,username:b.email,avatar:e,likes:0}),i(0),n(""),m(null)}))}))}})}function L(e){var a=e.posts;return Object(u.jsxs)("div",{className:p.a.posts,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(B,{}),a.map((function(e){var a=e.post,t=e.id;return Object(u.jsx)(S,{postId:t,post:a},t)}))]}),Object(u.jsx)(_.a,{clientAccessToken:"483290653077860|b3ff09d76316c0ec418bfb4f616d2544",url:"https://www.instagram.com/p/CLXotfTJIvj/",maxWidth:600,hideCaption:!1,containerTagName:"div",injectScript:!0,protocol:"",onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){},className:p.a.inst})]})}var J=t(12),D=t(26),R=t.n(D),M=t(31),Q=t(22),V=t.n(Q);function T(){var e=Object(s.useRef)(),a=Object(s.useRef)(),t=Object(s.useState)(""),n=Object(O.a)(t,2),c=n[0],o=n[1],r=Object(s.useState)(!1),l=Object(O.a)(r,2),d=(l[0],l[1]),j=v().login,m=Object(J.g)();function b(){return(b=Object(M.a)(R.a.mark((function t(s){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,o(""),d(!0),t.next=6,j(e.current.value,a.current.value);case 6:m.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),o("Failed to sign in");case 12:d(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:V.a.parent,children:[c||"",Object(u.jsxs)("form",{className:V.a.login,onSubmit:function(e){return b.apply(this,arguments)},children:[Object(u.jsx)("h1",{className:V.a.title,children:Object(u.jsx)("span",{className:V.a.logo})}),Object(u.jsx)("input",{autocomplete:!0,placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u044d\u043b\u044e.\u0430\u0434\u0440\u0435\u0441",required:!0,ref:e,className:V.a.username}),Object(u.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,ref:a,className:V.a.password,type:"password"}),Object(u.jsx)("button",{disabled:j,className:V.a.loginBtn,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(u.jsx)("div",{className:V.a.or,children:"\u0418\u041b\u0418"}),Object(u.jsxs)(i.b,{to:"/",className:V.a.facebook,children:[Object(u.jsx)("i",{className:"fa fa-facebook-square"})," \u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Facebook"]}),Object(u.jsx)(i.b,{to:"/forgot-password",className:V.a.forgot,children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),Object(u.jsxs)("div",{className:V.a.signup,children:[Object(u.jsx)("div",{children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"}),Object(u.jsx)(i.b,{to:"/sign-up",className:V.a.signupLink,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}var W=t(18),F=t.n(W);function K(){var e=Object(s.useRef)(),a=Object(s.useRef)(),t=Object(s.useState)(""),n=Object(O.a)(t,2),c=(n[0],n[1]),o=Object(s.useState)(!1),r=Object(O.a)(o,2),l=r[0],d=r[1],j=v().signUp,m=Object(J.g)();function b(){return(b=Object(M.a)(R.a.mark((function t(s){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,d(!0),t.next=5,j(e.current.value,a.current.value);case 5:m.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),c("Failed to create an account");case 11:d(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:F.a.parent,children:[Object(u.jsxs)("form",{className:F.a.login,onSubmit:function(e){return b.apply(this,arguments)},children:[Object(u.jsx)("h1",{className:F.a.title,children:Object(u.jsx)("span",{className:F.a.logo})}),Object(u.jsx)("div",{className:F.a.text,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0444\u043e\u0442\u043e \u0438 \u0432\u0438\u0434\u0435\u043e \u0432\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439."}),Object(u.jsx)("button",{className:F.a.facebookBtn,children:Object(u.jsxs)(i.b,{to:"/",className:F.a.facebook,children:[" ",Object(u.jsx)("i",{className:"fa fa-facebook-square"})," \u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Facebook"]})}),Object(u.jsx)("div",{className:F.a.or,children:"\u0418\u041b\u0418"}),Object(u.jsx)("input",{placeholder:"(\u041c\u043e\u0431. \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u0438\u043b\u0438 \u044d\u043b.\u0430\u0434\u0440\u0435\u0441)",className:F.a.username}),Object(u.jsx)("input",{placeholder:"(\u0418\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f)",className:F.a.password,type:"text"}),Object(u.jsx)("input",{placeholder:"Email",required:!0,ref:e,className:F.a.password,type:"email"}),Object(u.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,ref:a,className:F.a.password,type:"password"}),Object(u.jsx)("button",{disabled:l,className:F.a.loginBtn,children:"\u0414\u0430\u043b\u0435\u0435"})]}),Object(u.jsxs)("div",{className:F.a.signup,children:[Object(u.jsx)("div",{children:"\u0415\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"}),Object(u.jsx)(i.b,{to:"/login",className:F.a.signupLink,children:"\u0412\u0445\u043e\u0434"})]})]})}var G=t(33),z=t(54);function Y(e){var a=e.component,t=Object(z.a)(e,["component"]),s=v().currentUser;return Object(u.jsx)(J.b,Object(G.a)(Object(G.a)({},t),{},{render:function(e){return s?Object(u.jsx)(a,Object(G.a)({},e)):Object(u.jsx)(J.a,{to:"/login"})}}))}var q=t(23),X=t.n(q);t.p;function Z(){var e=Object(s.useRef)(),a=Object(s.useState)(""),t=Object(O.a)(a,2),n=(t[0],t[1]),c=Object(s.useState)(!1),o=Object(O.a)(c,2),r=o[0],l=o[1],d=Object(s.useState)(""),j=Object(O.a)(d,2),m=(j[0],j[1]),b=v().resetPassword,p=Object(J.g)();function _(){return(_=Object(M.a)(R.a.mark((function a(t){return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,n(""),l(!0),a.next=6,b(e.current.value);case 6:p.push("/login"),m("Check your inbox"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n("Failed to sign in");case 13:l(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:X.a.parent,children:[Object(u.jsxs)("form",{className:X.a.login,onSubmit:function(e){return _.apply(this,arguments)},children:[Object(u.jsx)("h1",{className:X.a.title,children:Object(u.jsx)("span",{className:X.a.logo})}),Object(u.jsx)("div",{className:X.a.s,children:"\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u043e\u0439\u0442\u0438?"}),Object(u.jsx)("div",{className:X.a.text,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441, \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u0438 \u043c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043c \u0432\u0430\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443."}),Object(u.jsx)("input",{placeholder:"\u042d\u043b.\u0430\u0434\u0440\u0435\u0441, \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u0438\u043b\u0438 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",required:!0,ref:e,className:X.a.username}),Object(u.jsx)("button",{disabled:r,className:X.a.loginBtn,children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(u.jsx)("div",{className:X.a.or,children:"\u0418\u041b\u0418"}),Object(u.jsx)(i.b,{to:"/sign-up",className:X.a.facebook,children:" \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(u.jsx)("div",{className:X.a.signup,children:Object(u.jsx)(i.b,{to:"/login",className:X.a.signupLink,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0432\u0445\u043e\u0434\u0443"})})]})}t(72),t(73);var $=t(8),ee=t.n($);function ae(e){var a=e.info,t=e.show,s=e.handleClose,n=e.handleShow,c=e.disabled,o=e.handleDelete,r=e.onLike,i=e.comment,l=e.postComment,d=e.setComment,j=e.nameLength;return Object(u.jsx)("div",{children:a?Object(u.jsxs)("div",{className:ee.a.aboutPost,children:[Object(u.jsx)("div",{className:ee.a.imgWrapper,children:Object(u.jsx)("img",{className:ee.a.img,src:a.imageUrl,alt:""})}),Object(u.jsxs)("div",{className:ee.a.infoWrapper,children:[Object(u.jsxs)("div",{className:ee.a.headerWrapper,children:[Object(u.jsxs)("div",{className:ee.a.header,children:[Object(u.jsx)("img",{className:ee.a.avatar,src:a.avatar,alt:"avatar"}),Object(u.jsx)("div",{className:ee.a.username,children:function(){return j(a.username)}}),Object(u.jsx)("div",{className:ee.a.follow,children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"})]}),Object(u.jsx)("div",{className:ee.a.circles,onClick:n,children:"..."}),Object(u.jsxs)(E.a,{show:t,onHide:s,className:ee.a.modal,children:[Object(u.jsx)("button",{disabled:c,className:"".concat(ee.a.modalBtn," ").concat(ee.a.red),children:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(u.jsx)("button",{onClick:o,className:"".concat(ee.a.modalBtn," ").concat(ee.a.red),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(u.jsx)("button",{disabled:c,className:ee.a.modalBtn,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"}),Object(u.jsx)("button",{disabled:c,className:ee.a.modalBtn,children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(u.jsx)("button",{disabled:c,className:ee.a.modalBtn,children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"}),Object(u.jsx)("button",{disabled:c,className:ee.a.modalBtn,children:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"}),Object(u.jsx)("button",{onClick:s,className:ee.a.modalBtn,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}),Object(u.jsxs)("div",{className:ee.a.mainInfo,children:[Object(u.jsx)("img",{className:ee.a.avatarInfo,src:a.avatar,alt:"avatar"}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("div",{className:ee.a.usernameInfo,children:a.username}),a.caption]})]}),Object(u.jsxs)("div",{className:ee.a.actionInfo,children:[Object(u.jsxs)("div",{className:ee.a.action,children:[Object(u.jsx)("div",{onClick:r,children:Object(u.jsx)("i",{className:"fa fa-heart-o ".concat(ee.a.like)})}),Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"fa fa-comment-o ".concat(ee.a.like)})}),Object(u.jsx)("div",{children:Object(u.jsx)("i",{className:"fa fa-paper-plane-o ".concat(ee.a.like)})})]}),Object(u.jsxs)("div",{className:ee.a.count,children:[a.likes,' \u043e\u0442\u043c\u0435\u0442\u043e\u043a "\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"']}),Object(u.jsx)("div",{className:ee.a.added,children:"4 \u0447\u0430\u0441\u043e\u0432 \u043d\u0430\u0437\u0430\u0434"})]}),Object(u.jsxs)("form",{className:ee.a.commentsForm,onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("input",{className:ee.a.input,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",value:i,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("button",{onClick:l,disabled:!i,className:ee.a.btn,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})]})]}):"loading"})}function te(){var e=Object(s.useState)([]),a=Object(O.a)(e,2),t=a[0],n=a[1];return Object(s.useEffect)((function(){f.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){n(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(u.jsx)(L,{posts:t})}function se(){var e=v(),a=e.currentUser,t=e.logout,n=Object(J.g)(),c=Object(s.useState)(""),o=Object(O.a)(c,2),r=(o[0],o[1]);function i(){return(i=Object(M.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:n.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r("Failed to log out");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(u.jsx)(m,{currentUser:a,handlelogout:function(){return i.apply(this,arguments)}})}function ne(e){var a=Object(s.useState)(""),t=Object(O.a)(a,2),n=t[0],c=t[1],o=e.match.params.id,r=Object(s.useState)(!0),i=Object(O.a)(r,2),l=i[0],d=(i[1],Object(s.useState)(!1)),j=Object(O.a)(d,2),m=j[0],b=j[1],p=Object(s.useState)([]),_=Object(O.a)(p,2),x=(_[0],_[1],Object(s.useState)("")),g=Object(O.a)(x,2),I=g[0],k=g[1],N=v().currentUser;return Object(s.useEffect)((function(){var e;return o&&(e=f.collection("posts").doc(o).onSnapshot((function(e){c(e.data())}))),e}),[o]),Object(u.jsx)(ae,{info:n,show:m,handleClose:function(){return b(!1)},handleShow:function(){return b(!0)},disabled:l,handleDelete:function(){f.collection("posts").doc(o).delete()},onLike:function(){f.collection("posts").doc(o).update("likes",+n.likes+1)},comment:I,postComment:function(e){e.preventDefault(),f.collection("posts").doc(o).collection("comments").add({comment:I,username:N.email,timestamp:h.a.firestore.FieldValue.serverTimestamp()}),k("")},setComment:k,nameLength:function(e){e.length>=10&&e.slice(0,5)}})}var ce=t(24),oe=t.n(ce),re=t(80);function ie(e){var a=e.currentUser,t=e.posts;return console.log(t),Object(u.jsxs)("div",{className:oe.a.messagesWrapper,children:[Object(u.jsxs)("div",{className:oe.a.dialogs,children:[Object(u.jsx)("div",{className:oe.a.userName,children:a?a.email:""}),Object(u.jsx)("div",{children:t.map((function(e){return Object(u.jsxs)(re.a,{className:oe.a.dialogsPerson,children:[Object(u.jsx)("img",{alt:"ava",src:e.post.avatar,className:oe.a.ava}),Object(u.jsx)("div",{children:e.post.username})]},e.id)}))})]}),Object(u.jsxs)("div",{className:oe.a.messages,children:[Object(u.jsxs)("div",{className:oe.a.messagesHeader,children:[Object(u.jsx)("div",{children:t[0]?Object(u.jsx)("img",{alt:"ava",src:t[0].post.avatar,className:oe.a.messagesAva}):""}),Object(u.jsx)("div",{children:t[0]?t[0].post.username:""})]}),Object(u.jsxs)("div",{className:oe.a.message,children:[Object(u.jsx)("div",{children:"Hi"}),Object(u.jsx)("form",{className:oe.a.messagesForm,children:Object(u.jsxs)("div",{className:oe.a.input,children:[Object(u.jsx)("input",{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."}),Object(u.jsx)("button",{className:oe.a.btn,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})]})]})]})}function le(){var e=v().currentUser,a=Object(s.useState)([]),t=Object(O.a)(a,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){f.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){c(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(u.jsx)(ie,{currentUser:e,posts:n})}var de=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(N,{children:[Object(u.jsx)(se,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)(J.d,{children:[Object(u.jsx)(Y,{exact:!0,path:"/",component:te}),Object(u.jsx)(J.b,{path:"/login",component:T}),Object(u.jsx)(J.b,{path:"/sign-up",component:K}),Object(u.jsx)(J.b,{path:"/forgot-password",component:Z}),Object(u.jsx)(J.b,{path:"/p/:id",component:ne}),Object(u.jsx)(J.b,{path:"/messages",component:le})]})})]})})},je=t(34),ue=t(52),me="GET_LIKES",be={show:!1,likes:0},pe=Object(je.c)({postPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case me:return Object(G.a)(Object(G.a)({},e),{},{likes:a.payload});default:return e}}}),_e=Object(je.d)(pe,Object(je.a)(ue.a));o.a.render(Object(u.jsx)(r.a,{store:_e,children:Object(u.jsx)(i.a,{children:Object(u.jsx)(de,{})})}),document.getElementById("root"))},8:function(e,a,t){e.exports={aboutPost:"AboutPost_aboutPost__3gW-B",imgWrapper:"AboutPost_imgWrapper__1iT9d",img:"AboutPost_img__2SXQk",headerWrapper:"AboutPost_headerWrapper__1BIQo",avatar:"AboutPost_avatar__1QvR2",header:"AboutPost_header__1UF-4",circles:"AboutPost_circles__3KKBf",username:"AboutPost_username__fiw3Q",follow:"AboutPost_follow__11NUx",mainInfo:"AboutPost_mainInfo__mu97G",avatarInfo:"AboutPost_avatarInfo__2n3HJ",infoWrapper:"AboutPost_infoWrapper__1Pbyj",usernameInfo:"AboutPost_usernameInfo__2YMgi",action:"AboutPost_action__IlYu_",like:"AboutPost_like__2qU2n",count:"AboutPost_count__3Y_5V",actionInfo:"AboutPost_actionInfo__f1Vgo",commentsForm:"AboutPost_commentsForm__3Haiz",comments:"AboutPost_comments__fFuXs",allcomments:"AboutPost_allcomments__BXA9b",btn:"AboutPost_btn__1s5Vx",input:"AboutPost_input__2AJyr",added:"AboutPost_added__1cEJi",modalBtn:"AboutPost_modalBtn__A4AFS",red:"AboutPost_red__23jSR"}},9:function(e,a,t){e.exports={postImg:"Post_postImg__3vhPJ",postText:"Post_postText__39L35",avatar:"Post_avatar__db-Kf",header:"Post_header__1FRaY",nickname:"Post_nickname__5dHUc",post:"Post_post__29GeZ",name:"Post_name__352h2",circles:"Post_circles__109LC",input:"Post_input__3NVQu",btn:"Post_btn__3-pF9",commentsForm:"Post_commentsForm__30sbk",comments:"Post_comments__1I0Pb",allcomments:"Post_allcomments__14fbV",modalBtn:"Post_modalBtn__1lCIa",red:"Post_red__2T2N9",action:"Post_action__VAmuq",like:"Post_like__1z9XK",count:"Post_count__3KYwA"}}},[[74,1,2]]]);
//# sourceMappingURL=main.d7745332.chunk.js.map